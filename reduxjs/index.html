<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Droid+Sans:700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../common.css">
    <link rel="stylesheet" href="../common/lib/atom-one-light.css">
    <link rel="stylesheet" href="./reduxjs.css">
  </head>
  <body>
    <input type="checkbox" id="showPreview"/>
    <div class="first-side">
      
      <div class="cutter">
<div class="cut cut-top-left">&nbsp;</div>
<div class="cut cut-bottom-left">&nbsp;</div>
<div class="cut cut-top-right">&nbsp;</div>
<div class="cut cut-bottom-right">&nbsp;</div>
</div>
<header>
    <div class="home-button no-print">
        <a href="../" title="back to home cheat Sheet"><i class="material-icons">home</i></a>
        <label for="showPreview"><i class="material-icons">visibility</i></label>
    </div>
    <div class="header-center">
        <div class="description-content">
            <div class="title">reduxjs cheat sheet</div>
            <div class="sub-title">State Container for JS Apps.</div>
        </div>

        <div class="logo-container">
            <img src="../assets/images/reduxjs.png">
        </div>
    </div>
    <div class="logo-category no-print">
        <i class="material-icons" onclick="printLarge()">print</i>
    </div>
</header>



      <main>
        <div class="column1">
          <p>Redux version: <strong>4.0.5</strong> - Date <strong>April 2020</strong></p>
<h1 id="general-guideline">GENERAL GUIDELINE</h1>
<p><strong>Why Redux?:</strong> With Redux we manage a single one global store at our application and with this we can deal with the communication&#39;s limitation of unidirectional flux between father and child components.</p>
<p><strong>Single source of truth:</strong> only one state <br/>
<strong>State is immutable (read-only):</strong> only an action can trigger a change, you can&#39;t do it directly  <br/>
<strong>Changes are made with pure functions:</strong> only the reducers can transform the state  <br/></p>
<h1 id="redux-flow-concept">Redux Flow Concept</h1>
<p><img src="../assets/images/redux-flow.png" alt="gitZone"></p>
<div class='definitions-flow'>

<ul>
<li><span class='color-block'>State</span> Data that you will consume to manipulate your interface (UI)</li>
<li><span class='color-block'>UI (View)</span> Interface that will be modified according to your state</li>
<li><span class='color-block'>Actions (Dispatch)</span> Every action that calls your reducer to mutate your state</li>
<li><span class='color-block'>Reducer</span> A function (or group of functions) that will mutate the data and send the new data to the store</li>
<li><span class='color-block'>Store</span> Holds the whole state tree of your application</div></li>
</ul>

        </div>
        <div class="column2">
          <p><strong>Updated</strong> 23 April 2020</p>
<h1 id="installation">Installation</h1>
<p><code>npm install redux</code></p>
<p>If you work into a React App, react-redux provides an easy integration. <a target='_blank' href='https://react-redux.js.org'>Take a look.</a>
<code>npm install react-redux</code></p>
<h1 id="creating-a-new-store">Creating a new store</h1>
<div class='alert-message'>
    <span class='icon'>!</span>The store is always a global var
</div>

<pre><code class="language-js">import { createStore } from &#39;redux&#39;; 
const store = createStore();</code></pre>
<h1 id="creating-reducers-and-state">Creating reducers and state</h1>
<p>The reducer will validate the action&#39;s type and then will return the new state</p>
<div class='alert-message'>
    <span class='icon'>!</span>You should have an initial state when we define the reducer
</div>

<pre><code class="language-js">function yourReducer(state = &#39;Sii-Canada&#39; , action){
    switch(action.type){
        case &#39;UPPERCASE&#39;:
            return state.toUpperCase(); //SII-CANADA
        case &#39;LOWERCASE&#39;:
            return state.toLowerCase(); //sii-canada
        default:
            return state
    }
}
const store = createStore(yourReducer);</code></pre>
<h1 id="creating-actions-and-getting-updated-data">Creating actions and getting updated data</h1>
<p>An action is a generic object that by convention has the following props: <br/>
<strong>type:</strong> the function type, commonly is a string. <br/>
<strong>payload:</strong> data that we can use to update the state, here you can pass anything.</p>
<pre><code class="language-js">store.dispatch({type: &#39;UPPERCASE&#39;, payload:...}) //our action
store.subscribe(() =&gt; console.log(store.getState())) //our new data -&gt; SII-CANADA</code></pre>

        </div>
      </main>

      <footer class="print-only">
  <a href="https://groupe-sii.github.io/cheat-sheets">groupe-sii.github.io/cheat-sheets</a>
  <a href="http://www.groupe-sii.com">www.groupe-sii.com</a>
  <a href="https://blog.groupe-sii.com">blog.groupe-sii.com</a>
  <img src="../assets/images/logoSII-white.svg">
</footer>



    </div>

    <hr class="no-print"/>

    <div class="reverse">
      <header class="print-only">
    <div class="header-center">
        <div class="description-content">
            <div class="title">reduxjs cheat sheet</div>
        </div>
        <div class="logo-container">
            <img src="../assets/images/reduxjs.png" >
        </div>
    </div>
</header>


      <main>
        <div class="column1">
          <h1 id="api---createstore">API - createStore()</h1>
<p><strong>Why</strong>: it&#39;s the base method <br/>
<strong>Return</strong>: a store object</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Reducer</strong></td>
<td>your reducer function / combineReducers</td>
</tr>
<tr>
<td><strong>[state]</strong></td>
<td>your initial state, if you don&#39;t set it here, you must set it as a default value into your reducer declaration (optional)</td>
</tr>
<tr>
<td><strong>[enhancer]</strong></td>
<td>a middleware function (optional)</td>
</tr>
</tbody></table>
<pre><code class="language-js">const store = createStore(reducer,state,enhancer)</code></pre>
<h1 id="api---combinereducers">API - combineReducers()</h1>
<p><strong>Why</strong>: to combine various reducers <br/>
<strong>Arguments</strong>: object with at least two reducers <br/>
<strong>Return</strong>: one reducer to rule them all <br /></p>
<pre><code class="language-js">const rootReducer = combineReducers({reducerA, reducerB, reducerC})</code></pre>
<h1 id="api---applymiddleware">API - applyMiddleware()</h1>
<p><strong>Why</strong>: to be able to deal with async data<br/>
<strong>Arguments</strong>: a middleWare function <br/>
<strong>Return</strong>: a store enhancer</p>
<!-- * We can create a custom middleware to keep it simple. <a target='_blank' href='https://redux.js.org/api/applymiddleware#example-custom-logger-middleware'> Exemple</a> -->

<pre><code class="language-js">const store = createStore(reducer,state, applyMiddleware(yourMiddleware))</code></pre>
<h1 id="api---bindactioncreators">API - bindActionCreators()</h1>
<p><strong>Why</strong>: to pass action creators to a component that isn&#39;t aware of Redux and you don&#39;t want to pass dispatch <br/>
<strong>Arguments</strong>: an action creator and a dispatch function avaible on the store <br/>
<strong>Return</strong>: a dispatch function mutated with the passeds action creators</p>
<pre><code class="language-js">bindActionCreators(YoursActionsCreators, dispatch)</code></pre>

        </div>
        <div class="column2">
          <h1 id="api---compose">API - compose()</h1>
<p><strong>Why</strong>: to combine several store enhancers<br/>
<strong>Arguments</strong>: the functions to combine <br/>
<strong>Return</strong>: one single enhancer function</p>
<pre><code class="language-js">const store = createStore(
  reducer,
  compose(applyMiddleware(thunk), DevTools.instrument()) //example with redux-thunk as middleware and developer tools from redux-devtools
)</code></pre>
<h1 id="store-api---getstate">Store API - getState()</h1>
<p><strong>Why</strong>: to have access to the current data<br/>
<strong>Arguments</strong>: none <br/>
<strong>Return</strong>: your state data</p>
<pre><code class="language-js">const myState = store.getState();</code></pre>
<h1 id="store-api---dispatch">Store API - dispatch()</h1>
<p><strong>Why</strong>: to inform your reducer that you need to mutate the state<br/>
<strong>Arguments</strong>: action object <br/>
<strong>Return</strong>: object with the dispatched action</p>
<div class='alert-message'>
    <span class='icon'>!</span>Every action must have a type property.
</div>

<pre><code class="language-js">store.dispatch({type: &#39;UPPERCASE&#39;, payload: &#39;&#39;})</code></pre>
<h1 id="store-api---subscribe">Store API - subscribe()</h1>
<p><strong>Why</strong>: to know when there is a new data<br/>
<strong>Arguments</strong>: a listener function <br/>
<strong>Return</strong>: a function that <strong>unsubscribes</strong> the listener</p>
<pre><code class="language-js">function handler(){
    /*here we get the new data with store.getState()*/
}
const unsubscribe = store.subscribe(handler);
unsubscribe()</code></pre>

        </div>
      </main>

      <footer class="@@class">
  <a href="https://groupe-sii.github.io/cheat-sheets">groupe-sii.github.io/cheat-sheets</a>
  <a href="http://www.groupe-sii.com">www.groupe-sii.com</a>
  <a href="https://blog.groupe-sii.com">blog.groupe-sii.com</a>
  <img src="../assets/images/logoSII-white.svg">
</footer>

    </div>

    <script src="../common/lib/highlight.pack.js"></script>
    <script src="../common/script.js"></script>
  </body>
</html>
