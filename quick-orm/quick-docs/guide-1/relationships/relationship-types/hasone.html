<h1 id="hasone">hasOne</h1>
<h2 id="usage">Usage</h2>
<p>A &#39;hasOne&#39; relationship is a &quot;one-to-one&quot; relationship. For instance, a &#39;User&#39; entity might have an &#39;UserProfile&#39; entity attached to it.</p>
<pre><code class="language-javascript">// User.cfc
component extends=&quot;quick.models.BaseEntity&quot; accessors=&quot;true&quot; {

    function profile() {
       return hasOne( &quot;UserProfile&quot; );
    }

}</code></pre>
<p>The first value passed to &#39;hasOne&#39; is a WireBox mapping to the related entity.</p>
<p>Quick determines the foreign key of the relationship based on the entity name and key values. In this case, the &#39;UserProfile&#39; entity is assumed to have a &#39;userId&#39; foreign key. You can override this by passing a foreign key in as the second argument:</p>
<pre><code class="language-javascript">return hasOne( &quot;UserProfile&quot;, &quot;FK_userID&quot; );</code></pre>
<p>If your parent entity does not use &#39;id&#39; as its primary key, or you wish to join the child entity to a different column, you may pass a third argument to the &#39;hasOne&#39; method specifying your parent table&#39;s custom key.</p>
<pre><code class="language-javascript">return hasOne( &quot;UserProfile&quot;, &quot;FK_userID&quot;, &quot;profile_id&quot; );</code></pre>
<p>The inverse of &#39;hasOne&#39; is <a href="belongsto.md">&#39;belongsTo&#39;</a>. It is important to choose the right relationship for your database structure. &#39;hasOne&#39; assumes that the related model has the foreign key for the relationship.</p>
<pre><code class="language-javascript">// UserProfile.cfc
component extends=&quot;quick.models.BaseEntity&quot; accessors=&quot;true&quot; {

    function user() {
        return belongsTo( &quot;User&quot; );
    }

}</code></pre>
<h2 id="withdefault">withDefault</h2>
<p>`HasOne&#39; relationships can be configured to return a default entity if no entity is found. This is done by calling &#39;withDefault&#39; on the relationship object.</p>
<pre><code class="language-javascript">// User.cfc
component extends=&quot;quick.models.BaseEntity&quot; accessors=&quot;true&quot; {

    function profile() {
       return hasOne( &quot;UserProfile&quot; ).withDefault();
    }

}</code></pre>
<p>Called this way will return a new unloaded entity with no data. You can also specify any default attributes data by passing in a struct of data to &#39;withDefault`.</p>
<pre><code class="language-javascript">// User.cfc
component extends=&quot;quick.models.BaseEntity&quot; accessors=&quot;true&quot; {

    function profile() {
       return hasOne( &quot;UserProfile&quot; ).withDefault( {
           &quot;showHints&quot;: true
       } );
    }

}</code></pre>
<h2 id="signature">Signature</h2>
<table>
  <thead>
    <tr>
      <th style="text-align:left">Name</th>
      <th style="text-align:left">Type</th>
      <th style="text-align:left">Required</th>
      <th style="text-align:left">Default</th>
      <th style="text-align:left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">relationName</td>
      <td style="text-align:left">string</td>
      <td style="text-align:left"><code>true</code>
      </td>
      <td style="text-align:left"></td>
      <td style="text-align:left">The WireBox mapping for the related entity.</td>
    </tr>
    <tr>
      <td style="text-align:left">foreignKey</td>
      <td style="text-align:left">String | [String]</td>
      <td style="text-align:left"><code>false</code>
      </td>
      <td style="text-align:left"><code>entityName() &amp; keyNames()</code>
      </td>
      <td style="text-align:left">The foreign key on the parent entity.</td>
    </tr>
    <tr>
      <td style="text-align:left">localKey</td>
      <td style="text-align:left">String | [String]</td>
      <td style="text-align:left"><code>false</code>
      </td>
      <td style="text-align:left"><code>keyNames()</code>
      </td>
      <td style="text-align:left">The local primary key on the parent entity.</td>
    </tr>
    <tr>
      <td style="text-align:left">relationMethodName</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left"><code>false</code>
      </td>
      <td style="text-align:left">The method name called on the entity to produce this relationship.</td>
      <td
      style="text-align:left">
        <p>The method name called to retrieve this relationship. Uses a stack backtrace
          to determine by default.</p>
        <p>&lt;b&gt;&lt;/b&gt;</p>
        <p><b>DO NOT PASS A VALUE HERE UNLESS YOU KNOW WHAT YOU ARE DOING.</b>
        </p>
        </td>
    </tr>
  </tbody>
</table>

<p>Returns a HasOne relationship between this entity and the entity defined by &#39;relationName`.</p>
<h2 id="visualizer">Visualizer</h2>
